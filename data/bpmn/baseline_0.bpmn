<?xml version="1.0" standalone="yes"?>
<semantic:definitions id="OfferProcess"
    targetNamespace="http://example.com/bpmn/offer-process"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:semantic="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI">

  <semantic:collaboration id="collab_offerProcess">
    <semantic:participant id="participant_salesDepartment" name="Sales Department" processRef="process_salesDepartment"/>
  </semantic:collaboration>

  <semantic:process id="process_salesDepartment" isExecutable="true">
    <semantic:laneSet id="laneSet_salesDepartment">
      <semantic:lane id="lane_commercialManager" name="Commercial Manager">
        <semantic:flowNodeRef>start_offerRequired</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_feasibilityCheck</semantic:flowNodeRef>
        <semantic:flowNodeRef>gateway_feasibilityDecision</semantic:flowNodeRef>
      </semantic:lane>
      <semantic:lane id="lane_commercialEmployee" name="Commercial Employee">
        <semantic:flowNodeRef>task_checkPersonnelAvailability</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_createOffer</semantic:flowNodeRef>
        <semantic:flowNodeRef>end_offerCreated</semantic:flowNodeRef>
      </semantic:lane>
      <semantic:lane id="lane_customerCommunication" name="Customer Communication">
        <semantic:flowNodeRef>task_informCustomer</semantic:flowNodeRef>
        <semantic:flowNodeRef>end_processEnd</semantic:flowNodeRef>
      </semantic:lane>
    </semantic:laneSet>

    <semantic:startEvent id="start_offerRequired" name="Offer Required">
      <semantic:outgoing>flow1</semantic:outgoing>
    </semantic:startEvent>

    <semantic:task id="task_feasibilityCheck" name="Perform Feasibility Check">
      <semantic:incoming>flow1</semantic:incoming>
      <semantic:outgoing>flow2</semantic:outgoing>
    </semantic:task>

    <semantic:exclusiveGateway id="gateway_feasibilityDecision" name="Is Offer Feasible?">
      <semantic:incoming>flow2</semantic:incoming>
      <semantic:outgoing>flow3_feasible</semantic:outgoing>
      <semantic:outgoing>flow4_notFeasible</semantic:outgoing>
    </semantic:exclusiveGateway>

    <semantic:task id="task_informCustomer" name="Inform Customer About Non-Feasibility">
      <semantic:incoming>flow4_notFeasible</semantic:incoming>
      <semantic:outgoing>flow5</semantic:outgoing>
    </semantic:task>

    <semantic:endEvent id="end_processEnd" name="Process Ends After Informing Customer">
      <semantic:incoming>flow5</semantic:incoming>
    </semantic:endEvent>

    <semantic:task id="task_checkPersonnelAvailability" name="Check Personnel Needs and Availability">
      <semantic:incoming>flow3_feasible</semantic:incoming>
      <semantic:outgoing>flow6</semantic:outgoing>
    </semantic:task>

    <semantic:task id="task_createOffer" name="Create Offer">
      <semantic:incoming>flow6</semantic:incoming>
      <semantic:outgoing>flow7</semantic:outgoing>
    </semantic:task>

    <semantic:endEvent id="end_offerCreated" name="Offer Created and Process Ends">
      <semantic:incoming>flow7</semantic:incoming>
    </semantic:endEvent>

    <semantic:sequenceFlow id="flow1" sourceRef="start_offerRequired" targetRef="task_feasibilityCheck"/>
    <semantic:sequenceFlow id="flow2" sourceRef="task_feasibilityCheck" targetRef="gateway_feasibilityDecision"/>
    <semantic:sequenceFlow id="flow3_feasible" sourceRef="gateway_feasibilityDecision" targetRef="task_checkPersonnelAvailability"/>
    <semantic:sequenceFlow id="flow4_notFeasible" sourceRef="gateway_feasibilityDecision" targetRef="task_informCustomer"/>
    <semantic:sequenceFlow id="flow5" sourceRef="task_informCustomer" targetRef="end_processEnd"/>
    <semantic:sequenceFlow id="flow6" sourceRef="task_checkPersonnelAvailability" targetRef="task_createOffer"/>
    <semantic:sequenceFlow id="flow7" sourceRef="task_createOffer" targetRef="end_offerCreated"/>
  </semantic:process>

  <bpmndi:BPMNDiagram id="BPMNDiagram_offerProcess" name="Offer Process Diagram" resolution="96.0">
    <bpmndi:BPMNPlane bpmnElement="collab_offerProcess">
      <bpmndi:BPMNShape id="participant_salesDepartment_shape" bpmnElement="participant_salesDepartment" isHorizontal="true">
        <dc:Bounds x="20" y="20" width="900" height="300"/>
      </bpmndi:BPMNShape>

      <!-- Commercial Manager Lane -->
      <bpmndi:BPMNShape id="lane_commercialManager_shape" bpmnElement="lane_commercialManager" isHorizontal="false">
        <dc:Bounds x="20" y="20" width="900" height="100"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="start_offerRequired_shape" bpmnElement="start_offerRequired">
        <dc:Bounds x="60" y="55" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="task_feasibilityCheck_shape" bpmnElement="task_feasibilityCheck">
        <dc:Bounds x="140" y="45" width="140" height="56"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="gateway_feasibilityDecision_shape" bpmnElement="gateway_feasibilityDecision" isMarkerVisible="true">
        <dc:Bounds x="310" y="45" width="50" height="50"/>
      </bpmndi:BPMNShape>

      <!-- Customer Communication Lane -->
      <bpmndi:BPMNShape id="lane_customerCommunication_shape" bpmnElement="lane_customerCommunication" isHorizontal="false">
        <dc:Bounds x="20" y="120" width="900" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="task_informCustomer_shape" bpmnElement="task_informCustomer">
        <dc:Bounds x="390" y="130" width="180" height="56"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="end_processEnd_shape" bpmnElement="end_processEnd">
        <dc:Bounds x="600" y="140" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Commercial Employee Lane -->
      <bpmndi:BPMNShape id="lane_commercialEmployee_shape" bpmnElement="lane_commercialEmployee" isHorizontal="false">
        <dc:Bounds x="20" y="210" width="900" height="90"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="task_checkPersonnelAvailability_shape" bpmnElement="task_checkPersonnelAvailability">
        <dc:Bounds x="390" y="220" width="200" height="56"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="task_createOffer_shape" bpmnElement="task_createOffer">
        <dc:Bounds x="620" y="220" width="140" height="56"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="end_offerCreated_shape" bpmnElement="end_offerCreated">
        <dc:Bounds x="780" y="230" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Sequence Flows -->
      <bpmndi:BPMNEdge id="flow1_edge" bpmnElement="flow1">
        <di:waypoint x="96" y="73"/>
        <di:waypoint x="140" y="73"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow2_edge" bpmnElement="flow2">
        <di:waypoint x="280" y="73"/>
        <di:waypoint x="310" y="70"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow3_feasible_edge" bpmnElement="flow3_feasible">
        <di:waypoint x="360" y="70"/>
        <di:waypoint x="390" y="248"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow4_notFeasible_edge" bpmnElement="flow4_notFeasible">
        <di:waypoint x="360" y="95"/>
        <di:waypoint x="390" y="158"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow5_edge" bpmnElement="flow5">
        <di:waypoint x="570" y="158"/>
        <di:waypoint x="600" y="158"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow6_edge" bpmnElement="flow6">
        <di:waypoint x="590" y="248"/>
        <di:waypoint x="620" y="248"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow7_edge" bpmnElement="flow7">
        <di:waypoint x="760" y="248"/>
        <di:waypoint x="780" y="248"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</semantic:definitions>
