<?xml version="1.0" standalone="yes"?>
<semantic:definitions id="ProjectControllingProcessDefs"
    targetNamespace="http://example.com/bpmn/project-controlling"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:semantic="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI">

  <semantic:collaboration id="collab_projectControlling">
    <semantic:participant id="participant_controllerPool" name="Controlling Department" processRef="process_projectControlling"/>
  </semantic:collaboration>

  <semantic:process id="process_projectControlling" isExecutable="true">
    <semantic:laneSet id="laneSet_controller">
      <semantic:lane id="lane_controller" name="Controller">
        <semantic:flowNodeRef>start_orderReceived</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_planProjectScope</semantic:flowNodeRef>
        <semantic:flowNodeRef>pg_initiateFinancialPlanning_split</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_defineBudgetPlanning</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_defineCosts</semantic:flowNodeRef>
        <semantic:flowNodeRef>pg_finalizeFinancialPlan_join</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_prepareBudgetProposal</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_submitABR</semantic:flowNodeRef>
        <semantic:flowNodeRef>xg_budgetApproved</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_setupSAP</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_runTrackSAP</semantic:flowNodeRef>
        <semantic:flowNodeRef>xg_budgetExceeded</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_requestAdditionalBudget</semantic:flowNodeRef>
        <semantic:flowNodeRef>task_closeProject</semantic:flowNodeRef>
        <semantic:flowNodeRef>end_projectImplemented</semantic:flowNodeRef>
      </semantic:lane>
    </semantic:laneSet>

    <semantic:startEvent id="start_orderReceived" name="Order Received for Project Implementation">
      <semantic:outgoing>flow_start_to_planScope</semantic:outgoing>
    </semantic:startEvent>

    <semantic:task id="task_planProjectScope" name="Plan Project Scope and Resources">
      <semantic:incoming>flow_start_to_planScope</semantic:incoming>
      <semantic:incoming>flow_xgBudgetApproved_no_to_planScope</semantic:incoming>
      <semantic:outgoing>flow_planScope_to_pgSplit</semantic:outgoing>
    </semantic:task>

    <semantic:parallelGateway id="pg_initiateFinancialPlanning_split" name="Initiate Financial Planning">
      <semantic:incoming>flow_planScope_to_pgSplit</semantic:incoming>
      <semantic:outgoing>flow_pgSplit_to_defineBudget</semantic:outgoing>
      <semantic:outgoing>flow_pgSplit_to_defineCosts</semantic:outgoing>
    </semantic:parallelGateway>

    <semantic:task id="task_defineBudgetPlanning" name="Define Budget Planning (MTP)">
      <semantic:incoming>flow_pgSplit_to_defineBudget</semantic:incoming>
      <semantic:outgoing>flow_defineBudget_to_pgJoin</semantic:outgoing>
    </semantic:task>

    <semantic:task id="task_defineCosts" name="Define Internal &amp; External Costs">
      <semantic:incoming>flow_pgSplit_to_defineCosts</semantic:incoming>
      <semantic:outgoing>flow_defineCosts_to_pgJoin</semantic:outgoing>
    </semantic:task>

    <semantic:parallelGateway id="pg_finalizeFinancialPlan_join" name="Finalize Financial Plan">
      <semantic:incoming>flow_defineBudget_to_pgJoin</semantic:incoming>
      <semantic:incoming>flow_defineCosts_to_pgJoin</semantic:incoming>
      <semantic:outgoing>flow_pgJoin_to_prepareProposal</semantic:outgoing>
    </semantic:parallelGateway>

    <semantic:task id="task_prepareBudgetProposal" name="Prepare Budget Proposal">
      <semantic:incoming>flow_pgJoin_to_prepareProposal</semantic:incoming>
      <semantic:outgoing>flow_prepareProposal_to_submitABR</semantic:outgoing>
    </semantic:task>

    <semantic:task id="task_submitABR" name="Submit Budget Request (ABR)">
      <semantic:incoming>flow_prepareProposal_to_submitABR</semantic:incoming>
      <semantic:incoming>flow_requestAdditional_to_submitABR</semantic:incoming>
      <semantic:outgoing>flow_submitABR_to_xgBudgetApproved</semantic:outgoing>
    </semantic:task>

    <semantic:exclusiveGateway id="xg_budgetApproved" name="Budget Approved?">
      <semantic:incoming>flow_submitABR_to_xgBudgetApproved</semantic:incoming>
      <semantic:outgoing>flow_xgBudgetApproved_yes_to_setupSAP</semantic:outgoing>
      <semantic:outgoing>flow_xgBudgetApproved_no_to_planScope</semantic:outgoing>
    </semantic:exclusiveGateway>

    <semantic:task id="task_setupSAP" name="Set Up Project in SAP">
      <semantic:incoming>flow_xgBudgetApproved_yes_to_setupSAP</semantic:incoming>
      <semantic:outgoing>flow_setupSAP_to_runTrackSAP</semantic:outgoing>
    </semantic:task>

    <semantic:task id="task_runTrackSAP" name="Run &amp; Track Project in SAP">
      <semantic:incoming>flow_setupSAP_to_runTrackSAP</semantic:incoming>
      <semantic:outgoing>flow_runTrackSAP_to_xgBudgetExceeded</semantic:outgoing>
    </semantic:task>

    <semantic:exclusiveGateway id="xg_budgetExceeded" name="Budget Exceeded?">
      <semantic:incoming>flow_runTrackSAP_to_xgBudgetExceeded</semantic:incoming>
      <semantic:outgoing>flow_xgBudgetExceeded_yes_to_requestAdditional</semantic:outgoing>
      <semantic:outgoing>flow_xgBudgetExceeded_no_to_closeProject</semantic:outgoing>
    </semantic:exclusiveGateway>

    <semantic:task id="task_requestAdditionalBudget" name="Request Additional Budget">
      <semantic:incoming>flow_xgBudgetExceeded_yes_to_requestAdditional</semantic:incoming>
      <semantic:outgoing>flow_requestAdditional_to_submitABR</semantic:outgoing>
    </semantic:task>

    <semantic:task id="task_closeProject" name="Close Project">
      <semantic:incoming>flow_xgBudgetExceeded_no_to_closeProject</semantic:incoming>
      <semantic:outgoing>flow_closeProject_to_end</semantic:outgoing>
    </semantic:task>

    <semantic:endEvent id="end_projectImplemented" name="Project Implemented Successfully">
      <semantic:incoming>flow_closeProject_to_end</semantic:incoming>
    </semantic:endEvent>

    <semantic:sequenceFlow id="flow_start_to_planScope" sourceRef="start_orderReceived" targetRef="task_planProjectScope"/>
    <semantic:sequenceFlow id="flow_planScope_to_pgSplit" sourceRef="task_planProjectScope" targetRef="pg_initiateFinancialPlanning_split"/>
    <semantic:sequenceFlow id="flow_pgSplit_to_defineBudget" sourceRef="pg_initiateFinancialPlanning_split" targetRef="task_defineBudgetPlanning"/>
    <semantic:sequenceFlow id="flow_pgSplit_to_defineCosts" sourceRef="pg_initiateFinancialPlanning_split" targetRef="task_defineCosts"/>
    <semantic:sequenceFlow id="flow_defineBudget_to_pgJoin" sourceRef="task_defineBudgetPlanning" targetRef="pg_finalizeFinancialPlan_join"/>
    <semantic:sequenceFlow id="flow_defineCosts_to_pgJoin" sourceRef="task_defineCosts" targetRef="pg_finalizeFinancialPlan_join"/>
    <semantic:sequenceFlow id="flow_pgJoin_to_prepareProposal" sourceRef="pg_finalizeFinancialPlan_join" targetRef="task_prepareBudgetProposal"/>
    <semantic:sequenceFlow id="flow_prepareProposal_to_submitABR" sourceRef="task_prepareBudgetProposal" targetRef="task_submitABR"/>
    <semantic:sequenceFlow id="flow_submitABR_to_xgBudgetApproved" sourceRef="task_submitABR" targetRef="xg_budgetApproved"/>
    <semantic:sequenceFlow id="flow_xgBudgetApproved_yes_to_setupSAP" name="Budget Approved" sourceRef="xg_budgetApproved" targetRef="task_setupSAP"/>
    <semantic:sequenceFlow id="flow_xgBudgetApproved_no_to_planScope" name="Budget Not Approved" sourceRef="xg_budgetApproved" targetRef="task_planProjectScope"/>
    <semantic:sequenceFlow id="flow_setupSAP_to_runTrackSAP" sourceRef="task_setupSAP" targetRef="task_runTrackSAP"/>
    <semantic:sequenceFlow id="flow_runTrackSAP_to_xgBudgetExceeded" sourceRef="task_runTrackSAP" targetRef="xg_budgetExceeded"/>
    <semantic:sequenceFlow id="flow_xgBudgetExceeded_yes_to_requestAdditional" name="Budget Exceeded" sourceRef="xg_budgetExceeded" targetRef="task_requestAdditionalBudget"/>
    <semantic:sequenceFlow id="flow_requestAdditional_to_submitABR" sourceRef="task_requestAdditionalBudget" targetRef="task_submitABR"/>
    <semantic:sequenceFlow id="flow_xgBudgetExceeded_no_to_closeProject" name="Budget Not Exceeded" sourceRef="xg_budgetExceeded" targetRef="task_closeProject"/>
    <semantic:sequenceFlow id="flow_closeProject_to_end" sourceRef="task_closeProject" targetRef="end_projectImplemented"/>

  </semantic:process>

  <bpmndi:BPMNDiagram id="BPMNDiagram_projectControlling" name="Project Controlling Diagram" resolution="96.0">
    <bpmndi:BPMNPlane bpmnElement="collab_projectControlling">
      <bpmndi:BPMNShape id="participant_controllerPool_shape" bpmnElement="participant_controllerPool" isHorizontal="true">
        <dc:Bounds x="30" y="30" width="1900" height="580"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="lane_controller_shape" bpmnElement="lane_controller" isHorizontal="true">
        <dc:Bounds x="60" y="30" width="1870" height="580"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="start_orderReceived_shape" bpmnElement="start_orderReceived">
        <dc:Bounds x="80" y="282" width="36" height="36"/>
        <bpmndi:BPMNLabel><dc:Bounds x="60" y="323" width="76" height="40" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_planProjectScope_shape" bpmnElement="task_planProjectScope">
        <dc:Bounds x="180" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="pg_initiateFinancialPlanning_split_shape" bpmnElement="pg_initiateFinancialPlanning_split" isMarkerVisible="true">
        <dc:Bounds x="360" y="275" width="50" height="50"/>
        <bpmndi:BPMNLabel><dc:Bounds x="340" y="330" width="90" height="27" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_defineBudgetPlanning_shape" bpmnElement="task_defineBudgetPlanning">
        <dc:Bounds x="480" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_defineCosts_shape" bpmnElement="task_defineCosts">
        <dc:Bounds x="480" y="380" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="pg_finalizeFinancialPlan_join_shape" bpmnElement="pg_finalizeFinancialPlan_join" isMarkerVisible="true">
        <dc:Bounds x="660" y="275" width="50" height="50"/>
        <bpmndi:BPMNLabel><dc:Bounds x="640" y="330" width="90" height="27" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_prepareBudgetProposal_shape" bpmnElement="task_prepareBudgetProposal">
        <dc:Bounds x="780" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_submitABR_shape" bpmnElement="task_submitABR">
        <dc:Bounds x="930" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="xg_budgetApproved_shape" bpmnElement="xg_budgetApproved" isMarkerVisible="true">
        <dc:Bounds x="1080" y="275" width="50" height="50"/>
        <bpmndi:BPMNLabel><dc:Bounds x="1060" y="330" width="90" height="14" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_setupSAP_shape" bpmnElement="task_setupSAP">
        <dc:Bounds x="1230" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_runTrackSAP_shape" bpmnElement="task_runTrackSAP">
        <dc:Bounds x="1380" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="xg_budgetExceeded_shape" bpmnElement="xg_budgetExceeded" isMarkerVisible="true">
        <dc:Bounds x="1530" y="275" width="50" height="50"/>
        <bpmndi:BPMNLabel><dc:Bounds x="1510" y="330" width="90" height="14" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_requestAdditionalBudget_shape" bpmnElement="task_requestAdditionalBudget">
        <dc:Bounds x="1505" y="420" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="task_closeProject_shape" bpmnElement="task_closeProject">
        <dc:Bounds x="1680" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="end_projectImplemented_shape" bpmnElement="end_projectImplemented">
        <dc:Bounds x="1830" y="282" width="36" height="36"/>
        <bpmndi:BPMNLabel><dc:Bounds x="1805" y="323" width="86" height="40" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNEdge id="flow_start_to_planScope_edge" bpmnElement="flow_start_to_planScope">
        <di:waypoint x="116" y="300"/>
        <di:waypoint x="180" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_planScope_to_pgSplit_edge" bpmnElement="flow_planScope_to_pgSplit">
        <di:waypoint x="280" y="300"/>
        <di:waypoint x="360" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_pgSplit_to_defineBudget_edge" bpmnElement="flow_pgSplit_to_defineBudget">
        <di:waypoint x="385" y="275"/>
        <di:waypoint x="385" y="220"/>
        <di:waypoint x="480" y="220"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_pgSplit_to_defineCosts_edge" bpmnElement="flow_pgSplit_to_defineCosts">
        <di:waypoint x="385" y="325"/>
        <di:waypoint x="385" y="420"/>
        <di:waypoint x="480" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_defineBudget_to_pgJoin_edge" bpmnElement="flow_defineBudget_to_pgJoin">
        <di:waypoint x="580" y="220"/>
        <di:waypoint x="685" y="220"/>
        <di:waypoint x="685" y="275"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_defineCosts_to_pgJoin_edge" bpmnElement="flow_defineCosts_to_pgJoin">
        <di:waypoint x="580" y="420"/>
        <di:waypoint x="685" y="420"/>
        <di:waypoint x="685" y="325"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_pgJoin_to_prepareProposal_edge" bpmnElement="flow_pgJoin_to_prepareProposal">
        <di:waypoint x="710" y="300"/>
        <di:waypoint x="780" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_prepareProposal_to_submitABR_edge" bpmnElement="flow_prepareProposal_to_submitABR">
        <di:waypoint x="880" y="300"/>
        <di:waypoint x="930" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_submitABR_to_xgBudgetApproved_edge" bpmnElement="flow_submitABR_to_xgBudgetApproved">
        <di:waypoint x="1030" y="300"/>
        <di:waypoint x="1080" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_xgBudgetApproved_yes_to_setupSAP_edge" bpmnElement="flow_xgBudgetApproved_yes_to_setupSAP">
        <di:waypoint x="1130" y="300"/>
        <di:waypoint x="1230" y="300"/>
        <bpmndi:BPMNLabel><dc:Bounds x="1145" y="282" width="80" height="14" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_xgBudgetApproved_no_to_planScope_edge" bpmnElement="flow_xgBudgetApproved_no_to_planScope">
        <di:waypoint x="1105" y="275"/>
        <di:waypoint x="1105" y="120"/>
        <di:waypoint x="230" y="120"/>
        <di:waypoint x="230" y="260"/>
        <bpmndi:BPMNLabel><dc:Bounds x="640" y="102" width="80" height="27" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_setupSAP_to_runTrackSAP_edge" bpmnElement="flow_setupSAP_to_runTrackSAP">
        <di:waypoint x="1330" y="300"/>
        <di:waypoint x="1380" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_runTrackSAP_to_xgBudgetExceeded_edge" bpmnElement="flow_runTrackSAP_to_xgBudgetExceeded">
        <di:waypoint x="1480" y="300"/>
        <di:waypoint x="1530" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_xgBudgetExceeded_yes_to_requestAdditional_edge" bpmnElement="flow_xgBudgetExceeded_yes_to_requestAdditional">
        <di:waypoint x="1555" y="325"/>
        <di:waypoint x="1555" y="420"/>
        <bpmndi:BPMNLabel><dc:Bounds x="1560" y="365" width="80" height="14" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_requestAdditional_to_submitABR_edge" bpmnElement="flow_requestAdditional_to_submitABR">
        <di:waypoint x="1505" y="460"/>
        <di:waypoint x="1200" y="460"/>
        <di:waypoint x="1200" y="520"/>
        <di:waypoint x="980" y="520"/>
        <di:waypoint x="980" y="340"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_xgBudgetExceeded_no_to_closeProject_edge" bpmnElement="flow_xgBudgetExceeded_no_to_closeProject">
        <di:waypoint x="1580" y="300"/>
        <di:waypoint x="1680" y="300"/>
        <bpmndi:BPMNLabel><dc:Bounds x="1595" y="282" width="80" height="27" /></bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="flow_closeProject_to_end_edge" bpmnElement="flow_closeProject_to_end">
        <di:waypoint x="1780" y="300"/>
        <di:waypoint x="1830" y="300"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</semantic:definitions>
